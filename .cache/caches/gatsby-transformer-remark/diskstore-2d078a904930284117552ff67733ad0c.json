{"expireTime":9007200807937665000,"key":"transformer-remark-markdown-ast-1c18e7bd2ca8fd6ccdd54e0fbaa1a9a8--","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"React auto-hide on scroll navbar.","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":36,"offset":36},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":36,"offset":36},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://raw.githubusercontent.com/gwtuts/react-peekaboo-navbar/master/demo.gif","alt":null,"position":{"start":{"line":4,"column":1,"offset":38},"end":{"line":4,"column":84,"offset":121},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":38},"end":{"line":4,"column":84,"offset":121},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":6,"column":1,"offset":123},"end":{"line":6,"column":4,"offset":126},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":"gwtuts","url":"https://avatars2.githubusercontent.com/u/48597129?s=100&u=975926e0bc8d1da9ae020e4af5925862682e516c&v=4","alt":null,"position":{"start":{"line":8,"column":1,"offset":128},"end":{"line":8,"column":117,"offset":244},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":128},"end":{"line":8,"column":117,"offset":244},"indent":[]}},{"type":"html","value":"<p align=\"center\">\n  <a href=\"https://react-peekaboo-navbar.gwtuts.com\">Demo</a>\n  ·\n  <a href=\"https://github.com/gwtuts/react-peekaboo-navbar\">GitHub Repo</a>\n</p>","position":{"start":{"line":10,"column":1,"offset":246},"end":{"line":14,"column":5,"offset":411},"indent":[1,1,1,1]}},{"type":"thematicBreak","position":{"start":{"line":16,"column":1,"offset":413},"end":{"line":16,"column":4,"offset":416},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This will create a react-component ","position":{"start":{"line":18,"column":1,"offset":418},"end":{"line":18,"column":36,"offset":453},"indent":[]}},{"type":"inlineCode","value":"Navbar","position":{"start":{"line":18,"column":36,"offset":453},"end":{"line":18,"column":44,"offset":461},"indent":[]}},{"type":"text","value":" that will be hidden when the user scrolls down and visible when the user scrolls up.","position":{"start":{"line":18,"column":44,"offset":461},"end":{"line":18,"column":129,"offset":546},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":418},"end":{"line":18,"column":129,"offset":546},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Dependencies","position":{"start":{"line":20,"column":6,"offset":553},"end":{"line":20,"column":18,"offset":565},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":548},"end":{"line":20,"column":18,"offset":565},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"styled-components","position":{"start":{"line":22,"column":3,"offset":569},"end":{"line":22,"column":20,"offset":586},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":569},"end":{"line":22,"column":20,"offset":586},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":567},"end":{"line":22,"column":20,"offset":586},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":567},"end":{"line":22,"column":20,"offset":586},"indent":[]}},{"type":"code","lang":null,"value":"npm install styled-components --save","position":{"start":{"line":24,"column":1,"offset":588},"end":{"line":26,"column":4,"offset":632},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In your ","position":{"start":{"line":28,"column":1,"offset":634},"end":{"line":28,"column":9,"offset":642},"indent":[]}},{"type":"inlineCode","value":"App.js","position":{"start":{"line":28,"column":9,"offset":642},"end":{"line":28,"column":17,"offset":650},"indent":[]}},{"type":"text","value":" create the following constants;","position":{"start":{"line":28,"column":17,"offset":650},"end":{"line":28,"column":49,"offset":682},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":634},"end":{"line":28,"column":49,"offset":682},"indent":[]}},{"type":"code","lang":"js","value":"// App.js\nimport Navbar from \"./Navbar\";\n\nconst navlinks = [\n  { name: \"Home\", to: \"/\" },\n  { name: \"About\", to: \"/about\" },\n  { name: \"Contact\", to: \"/contact\" }\n];\n\nconst brand = { name: \"peekaboo\", to: \"home\" };\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar brand={brand} links={navlinks} />\n      </div>\n    );\n  }\n}","position":{"start":{"line":30,"column":1,"offset":684},"end":{"line":51,"column":4,"offset":1084},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In your ","position":{"start":{"line":53,"column":1,"offset":1086},"end":{"line":53,"column":9,"offset":1094},"indent":[]}},{"type":"inlineCode","value":"src/","position":{"start":{"line":53,"column":9,"offset":1094},"end":{"line":53,"column":15,"offset":1100},"indent":[]}},{"type":"text","value":" folder create a ","position":{"start":{"line":53,"column":15,"offset":1100},"end":{"line":53,"column":32,"offset":1117},"indent":[]}},{"type":"inlineCode","value":"Navbar.js","position":{"start":{"line":53,"column":32,"offset":1117},"end":{"line":53,"column":43,"offset":1128},"indent":[]}},{"type":"text","value":" file","position":{"start":{"line":53,"column":43,"offset":1128},"end":{"line":53,"column":48,"offset":1133},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1086},"end":{"line":53,"column":48,"offset":1133},"indent":[]}},{"type":"code","lang":"js","value":"export default class Navbar extends Component {\n  static propTypes = {...}\n\n  constructor(props) {...}\n\n  componentDidMount() {...}\n\n  componentWillUnmount() {...}\n\n  handleScroll() {...}\n\n  render() {\n\n    return (\n      <div>\n      ...\n      </div>\n    );\n  }\n}","position":{"start":{"line":55,"column":1,"offset":1135},"end":{"line":76,"column":4,"offset":1408},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Let’s start with mapping our props to be as elements to be rendered on the page.","position":{"start":{"line":78,"column":1,"offset":1410},"end":{"line":78,"column":81,"offset":1490},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":1410},"end":{"line":78,"column":81,"offset":1490},"indent":[]}},{"type":"code","lang":"js","value":"// Navbar.js\nrender() {\n  const { brand, links } = this.props;\n\n  const NavLinks = () =>\n    links.map((link, index) => (\n      <a key={index} href={link.to}>\n        {link.name}\n      </a>\n    ));\n\n  return (\n    <div>\n        <a className=\"brand\" href={brand}> {brand} </a>\n        <nav>\n          <NavLinks />\n        </nav>\n      </div>\n  );\n}","position":{"start":{"line":80,"column":1,"offset":1492},"end":{"line":101,"column":4,"offset":1849},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now let’s go ahead and add some validation to our props with ","position":{"start":{"line":103,"column":1,"offset":1851},"end":{"line":103,"column":62,"offset":1912},"indent":[]}},{"type":"inlineCode","value":"PropTypes","position":{"start":{"line":103,"column":62,"offset":1912},"end":{"line":103,"column":73,"offset":1923},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":103,"column":73,"offset":1923},"end":{"line":103,"column":74,"offset":1924},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":1851},"end":{"line":103,"column":74,"offset":1924},"indent":[]}},{"type":"code","lang":null,"value":"import PropTypes from \"prop-types\";\n//...\n\nexport default class Navbar extends Component {\n  static propTypes = {\n    brand: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      to: PropTypes.string.isRequired\n    }),\n    links: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        to: PropTypes.string.isRequired\n      })\n    )\n  };\n}","position":{"start":{"line":105,"column":1,"offset":1926},"end":{"line":123,"column":4,"offset":2322},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For our constructor we need to add","position":{"start":{"line":125,"column":1,"offset":2324},"end":{"line":125,"column":35,"offset":2358},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":2324},"end":{"line":125,"column":35,"offset":2358},"indent":[]}},{"type":"code","lang":"js","value":"constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n      scrollPos: 0\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }","position":{"start":{"line":127,"column":1,"offset":2360},"end":{"line":136,"column":4,"offset":2529},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We need to set the event listener after the component mounts.","position":{"start":{"line":138,"column":1,"offset":2531},"end":{"line":138,"column":62,"offset":2592},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":2531},"end":{"line":138,"column":62,"offset":2592},"indent":[]}},{"type":"code","lang":"js","value":"componentDidMount() {\n  window.addEventListener(\"scroll\", this.handleScroll);\n}\n\ncomponentWillUnmount() {\n  window.removeEventListener(\"scroll\", this.handleScroll);\n}","position":{"start":{"line":140,"column":1,"offset":2594},"end":{"line":148,"column":4,"offset":2770},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now that we have a function attached to the scroll event we can set the function that will fire.","position":{"start":{"line":150,"column":1,"offset":2772},"end":{"line":150,"column":97,"offset":2868},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":2772},"end":{"line":150,"column":97,"offset":2868},"indent":[]}},{"type":"code","lang":"js","value":"handleScroll() {\n    const { scrollPos } = this.state;\n    this.setState({\n      scrollPos: document.body.getBoundingClientRect().top,\n      show: document.body.getBoundingClientRect().top > scrollPos\n    });\n  }","position":{"start":{"line":152,"column":1,"offset":2870},"end":{"line":160,"column":4,"offset":3092},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now our ","position":{"start":{"line":162,"column":1,"offset":3094},"end":{"line":162,"column":9,"offset":3102},"indent":[]}},{"type":"inlineCode","value":"show","position":{"start":{"line":162,"column":9,"offset":3102},"end":{"line":162,"column":15,"offset":3108},"indent":[]}},{"type":"text","value":" property in the state object will show ","position":{"start":{"line":162,"column":15,"offset":3108},"end":{"line":162,"column":55,"offset":3148},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"true","position":{"start":{"line":162,"column":57,"offset":3150},"end":{"line":162,"column":61,"offset":3154},"indent":[]}}],"position":{"start":{"line":162,"column":55,"offset":3148},"end":{"line":162,"column":63,"offset":3156},"indent":[]}},{"type":"text","value":" if we’re scrolling up and ","position":{"start":{"line":162,"column":63,"offset":3156},"end":{"line":162,"column":90,"offset":3183},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"false","position":{"start":{"line":162,"column":92,"offset":3185},"end":{"line":162,"column":97,"offset":3190},"indent":[]}}],"position":{"start":{"line":162,"column":90,"offset":3183},"end":{"line":162,"column":99,"offset":3192},"indent":[]}},{"type":"text","value":" if we’re scrolling up.","position":{"start":{"line":162,"column":99,"offset":3192},"end":{"line":162,"column":122,"offset":3215},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":3094},"end":{"line":162,"column":122,"offset":3215},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can use a Conditional Operator on our div’s class name to toggle between ","position":{"start":{"line":164,"column":1,"offset":3217},"end":{"line":164,"column":77,"offset":3293},"indent":[]}},{"type":"inlineCode","value":"\"active\"","position":{"start":{"line":164,"column":77,"offset":3293},"end":{"line":164,"column":87,"offset":3303},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":164,"column":87,"offset":3303},"end":{"line":164,"column":92,"offset":3308},"indent":[]}},{"type":"inlineCode","value":"\"hidden\"","position":{"start":{"line":164,"column":92,"offset":3308},"end":{"line":164,"column":102,"offset":3318},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":3217},"end":{"line":164,"column":102,"offset":3318},"indent":[]}},{"type":"code","lang":"js","value":"render() {\n  return <div className={this.state.show ? \"active\" : \"hidden\"} />;\n}","position":{"start":{"line":166,"column":1,"offset":3320},"end":{"line":170,"column":4,"offset":3410},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Toggle between those two classes won’t do anything until we define them in our css. For that we are going to create a ","position":{"start":{"line":172,"column":1,"offset":3412},"end":{"line":172,"column":119,"offset":3530},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"styled-component","position":{"start":{"line":172,"column":120,"offset":3531},"end":{"line":172,"column":136,"offset":3547},"indent":[]}}],"position":{"start":{"line":172,"column":119,"offset":3530},"end":{"line":172,"column":137,"offset":3548},"indent":[]}},{"type":"text","value":"\nReplace the ","position":{"start":{"line":172,"column":137,"offset":3548},"end":{"line":173,"column":13,"offset":3561},"indent":[1]}},{"type":"inlineCode","value":"div","position":{"start":{"line":173,"column":13,"offset":3561},"end":{"line":173,"column":18,"offset":3566},"indent":[]}},{"type":"text","value":" element with our new styled-component.","position":{"start":{"line":173,"column":18,"offset":3566},"end":{"line":173,"column":57,"offset":3605},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":3412},"end":{"line":173,"column":57,"offset":3605},"indent":[1]}},{"type":"code","lang":"js","value":"import styled from \"styled-components\";\n\nrender() {\n...\nreturn (\n    <StyledNavbar className={this.state.show ? \"active\" : \"hidden\"}>\n    ...\n    </StyledNavbar>\n  );\n}\n\nconst StyledNavbar = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  margin: 0 auto;\n  height: 3rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: bolder;\n  background: cornflowerblue;\n  z-index: 1000;\n  a {\n    margin-right: 1rem;\n    font-weight: normal;\n  }\n  .brand {\n    font-style: italic;\n    margin-left: 1rem;\n    font-weight: bold;\n    color: white;\n    font-size: 1.25rem;\n  }`;","position":{"start":{"line":175,"column":1,"offset":3607},"end":{"line":212,"column":4,"offset":4263},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now we’re going to create a ","position":{"start":{"line":214,"column":1,"offset":4265},"end":{"line":214,"column":29,"offset":4293},"indent":[]}},{"type":"inlineCode","value":"Transition","position":{"start":{"line":214,"column":29,"offset":4293},"end":{"line":214,"column":41,"offset":4305},"indent":[]}},{"type":"text","value":" component that will wrap our ","position":{"start":{"line":214,"column":41,"offset":4305},"end":{"line":214,"column":71,"offset":4335},"indent":[]}},{"type":"inlineCode","value":"StyledNavbar","position":{"start":{"line":214,"column":71,"offset":4335},"end":{"line":214,"column":85,"offset":4349},"indent":[]}},{"type":"text","value":"component.","position":{"start":{"line":214,"column":85,"offset":4349},"end":{"line":214,"column":95,"offset":4359},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":4265},"end":{"line":214,"column":95,"offset":4359},"indent":[]}},{"type":"code","lang":"js","value":"render() {\n    return (\n      <Transition>\n        <StyledNavbar className={this.state.show ? \"active\" : \"hidden\"}>\n\t\t...\n\t\t</StyledNavbar>\n      </Transition>\n    );\n  }\n\nconst Transition = styled.div`\n  .active {\n    visibility: visible;\n    transition: all 200ms ease-in;\n  }\n  .hidden {\n    visibility: hidden;\n    transition: all 200ms ease-out;\n    transform: translate(0, -100%);\n  }\n`;","position":{"start":{"line":216,"column":1,"offset":4361},"end":{"line":238,"column":4,"offset":4764},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"There you have it!","position":{"start":{"line":240,"column":1,"offset":4766},"end":{"line":240,"column":19,"offset":4784},"indent":[]}}],"position":{"start":{"line":240,"column":1,"offset":4766},"end":{"line":240,"column":19,"offset":4784},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":241,"column":1,"offset":4785}}}}